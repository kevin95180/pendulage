(function(b){b.jqplot.PieRenderer=function(){b.jqplot.LineRenderer.call(this)};b.jqplot.PieRenderer.prototype=new b.jqplot.LineRenderer();b.jqplot.PieRenderer.prototype.constructor=b.jqplot.PieRenderer;b.jqplot.PieRenderer.prototype.init=function(c){this.diameter;this.padding=20;this.sliceMargin=0;this.fill=true;this.shadowOffset=2;this.shadowAlpha=0.07;this.shadowDepth=5;this.tickRenderer=b.jqplot.PieTickRenderer;b.extend(true,this,c);this._colorGenerator=new this.colorGenerator(this.seriesColors)};b.jqplot.PieRenderer.prototype.setGridData=function(){};b.jqplot.PieRenderer.prototype.makeGridData=function(f){var c=[];var g=[];for(var e=0;e<f.length;e++){c.push(f[e][1]);g.push([f[e][0]]);if(e>0){c[e]+=c[e-1]}}var d=Math.PI*2/c[c.length-1];for(var e=0;e<c.length;e++){g[e][1]=c[e]*d}return g};b.jqplot.PieRenderer.prototype.drawSlice=function(m,k,j,e,g){var c=this.diameter/2;var l=this.fill;var h=this.lineWidth;m.save();m.translate(this.sliceMargin*Math.cos((k+j)/2),this.sliceMargin*Math.sin((k+j)/2));if(g){for(var f=0;f<this.shadowDepth;f++){m.save();m.translate(this.shadowOffset*Math.cos(this.shadowAngle/180*Math.PI),this.shadowOffset*Math.sin(this.shadowAngle/180*Math.PI));d()}}else{d()}function d(){m.beginPath();m.moveTo(0,0);m.fillStyle=e;m.strokeStyle=e;m.lineWidth=h;m.arc(0,0,c,k,j,false);m.closePath();if(l){m.fill()}else{m.stroke()}}if(g){for(var f=0;f<this.shadowDepth;f++){m.restore()}}m.restore()};b.jqplot.PieRenderer.prototype.draw=function(t,z,g){var v;var p=(g!=undefined)?g:{};var e=0;var c=0;var j=1;if(g.legendInfo){var o=g.legendInfo;switch(o.location){case"nw":e=o.width+o.xoffset;break;case"w":e=o.width+o.xoffset;break;case"sw":e=o.width+o.xoffset;break;case"ne":e=o.width+o.xoffset;j=-1;break;case"e":e=o.width+o.xoffset;j=-1;break;case"se":e=o.width+o.xoffset;j=-1;break;case"n":c=o.height+o.yoffset;break;case"s":c=o.height+o.yoffset;j=-1;break;default:break}}var l=(p.shadow!=undefined)?p.shadow:this.shadow;var A=(p.showLine!=undefined)?p.showLine:this.showLine;var u=(p.fill!=undefined)?p.fill:this.fill;var f=t.canvas.width;var n=t.canvas.height;var m=f-e-2*this.padding;var x=n-c-2*this.padding;var y=Math.min(m,x);this.diameter=this.diameter||y;this.diameter-=this.sliceMargin;var q=this.diameter/2;t.save();t.translate((f-j*e)/2+j*e,(n-j*c)/2+j*c);if(this.shadow){var s="rgba(0,0,0,"+this.shadowAlpha+")";for(var v=0;v<z.length;v++){var k=(v==0)?0:z[v-1][1];this.renderer.drawSlice.call(this,t,k,z[v][1],s,true)}}for(var v=0;v<z.length;v++){var k=(v==0)?0:z[v-1][1];this.renderer.drawSlice.call(this,t,k,z[v][1],this._colorGenerator.next())}t.restore()};b.jqplot.PieAxisRenderer=function(){b.jqplot.LinearAxisRenderer.call(this)};b.jqplot.PieAxisRenderer.prototype=new b.jqplot.LinearAxisRenderer();b.jqplot.PieAxisRenderer.prototype.constructor=b.jqplot.PieAxisRenderer;b.jqplot.PieAxisRenderer.prototype.init=function(c){this.tickRenderer=b.jqplot.PieTickRenderer;b.extend(true,this,c);this._dataBounds={min:0,max:100};this.min=0;this.max=100;this.showTicks=false;this.ticks=[];this.showMark=false;this.show=false};b.jqplot.PieTickRenderer=function(){b.jqplot.AxisTickRenderer.call(this)};b.jqplot.PieTickRenderer.prototype=new b.jqplot.AxisTickRenderer();b.jqplot.PieTickRenderer.prototype.constructor=b.jqplot.PieTickRenderer;b.jqplot.PieLegendRenderer=function(){b.jqplot.TableLegendRenderer.call(this)};b.jqplot.PieLegendRenderer.prototype=new b.jqplot.TableLegendRenderer();b.jqplot.PieLegendRenderer.prototype.constructor=b.jqplot.PieLegendRenderer;b.jqplot.PieLegendRenderer.prototype.draw=function(){var j=this;if(this.show){var e=this._series;var m="position:absolute;";m+=(this.background)?"background:"+this.background+";":"";m+=(this.border)?"border:"+this.border+";":"";m+=(this.fontSize)?"font-size:"+this.fontSize+";":"";m+=(this.fontFamily)?"font-family:"+this.fontFamily+";":"";m+=(this.textColor)?"color:"+this.textColor+";":"";this._elem=b('<table class="jqplot-legend" style="'+m+'"></table>');var c=false;var l=e[0];var g=new l.colorGenerator(l.seriesColors);if(l.show){var h=l.data;for(var f=0;f<h.length;f++){var d=h[f][0].toString();if(d){k.call(this,d,g.next(),c);c=true}}}}function k(o,n,q){var i=(q)?this.rowSpacing:"0";var p=b('<tr class="jqplot-legend"></tr>').appendTo(this._elem);b('<td class="jqplot-legend" style="vertical-align:middle;text-align:center;padding-top:'+i+';"><div style="border:1px solid #cccccc;padding:0.2em;"><div style="width:1.2em;height:0.7em;background-color:'+n+';"></div></div></td>').appendTo(p);b('<td class="jqplot-legend" style="vertical-align:middle;padding-top:'+i+';">'+o+"</td>").appendTo(p)}return this._elem};function a(g,f,d){d=d||{};d.axesDefaults=d.axesDefaults||{};d.legend=d.legend||{};d.seriesDefaults=d.seriesDefaults||{};var c=false;if(d.seriesDefaults.renderer==b.jqplot.PieRenderer){c=true}else{if(d.series){for(var e=0;e<d.series.length;e++){if(d.series[e].renderer==b.jqplot.PieRenderer){c=true}}}}if(c){d.axesDefaults.renderer=b.jqplot.PieAxisRenderer;d.legend.renderer=b.jqplot.PieLegendRenderer;d.legend.preDraw=true;d.seriesDefaults.colorGenerator=this.colorGenerator;d.seriesDefaults.seriesColors=this.seriesColors}}b.jqplot.preInitHooks.push(a);b.jqplot.PieTickRenderer=function(){b.jqplot.AxisTickRenderer.call(this)};b.jqplot.PieTickRenderer.prototype=new b.jqplot.AxisTickRenderer();b.jqplot.PieTickRenderer.prototype.constructor=b.jqplot.PieTickRenderer})(jQuery);